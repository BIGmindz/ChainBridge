\* TLA+ Model Configuration for SCRAM Specification
\* PAC-ALEX-P520: Formal Verification Integration
\* TLC Model Checker Configuration

\* ============================================================================
\* CONSTANTS (Concrete Values for Model Checking)
\* ============================================================================

\* Define concrete set of agents
CONSTANTS
    agent1 = agent1
    agent2 = agent2
    agent3 = agent3

\* Assign constant values
CONSTANT Agents = {agent1, agent2, agent3}
CONSTANT MaxRequests = 3
CONSTANT MaxLatencySteps = 5

\* ============================================================================
\* SPECIFICATION
\* ============================================================================

SPECIFICATION Spec

\* ============================================================================
\* INVARIANTS (Must hold in all reachable states)
\* ============================================================================

INVARIANT TypeOK
INVARIANT SafetyInvariant
INVARIANT SystemHaltedImpliesScram
INVARIANT MutualExclusion
INVARIANT LatencyBound
INVARIANT NoProcessingWhileHalted

\* ============================================================================
\* PROPERTIES (Temporal properties - liveness)
\* ============================================================================

PROPERTY NoDeadlock
PROPERTY ScramEventuallyHalts

\* ============================================================================
\* MODEL CHECKING PARAMETERS
\* ============================================================================

\* State space constraints
\* Expected states: ~10,000-50,000 (depending on constants)
\* Verification time: ~10-30 seconds

\* Deadlock checking: Enabled (will fail if deadlock found)
\* Liveness checking: Enabled (will check temporal properties)

\* TLC will explore all reachable states and verify:
\* 1. All invariants hold in every state
\* 2. No deadlocks exist
\* 3. Temporal properties eventually hold

\* ============================================================================
\* EXPECTED VERIFICATION RESULTS
\* ============================================================================

\* PASS CONDITIONS:
\* - All invariants hold (no violations)
\* - No deadlocks found
\* - All temporal properties satisfied
\* - State space fully explored

\* FAIL CONDITIONS:
\* - Invariant violation found (counter-example generated)
\* - Deadlock detected (trace to deadlock state)
\* - Temporal property violated (liveness failure)
\* - Timeout (state space too large - increase MaxRequests/MaxLatencySteps)

\* ============================================================================
