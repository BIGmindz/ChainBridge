# Kraken Paper Trading Configuration
# Professional trading bot configuration with comprehensive risk management

# Trading Account Settings
initial_capital: 10000.0  # Starting capital in USD
max_positions: 5  # Maximum concurrent positions
position_sizing_method: "kelly"  # kelly, fixed, volatility

# Exchange Configuration
exchange: "kraken"
api:
  sandbox: true  # Use paper trading mode
  rate_limit: 60  # API calls per minute
  timeout: 30000  # Request timeout in ms

# Trading Pairs
symbols:
  - "BTC/USD"
  - "ETH/USD" 
  - "ADA/USD"
  - "DOT/USD"
  - "LINK/USD"
  - "SOL/USD"

# Risk Management
risk_management:
  max_position_size: 0.1  # 10% of capital per position
  max_risk_per_trade: 0.02  # 2% risk per trade
  correlation_threshold: 0.7  # Correlation limit for position sizing
  max_drawdown_limit: 0.15  # 15% maximum drawdown before emergency stop
  stop_loss_pct: 0.03  # Default 3% stop loss
  take_profit_pct: 0.06  # Default 6% take profit (2:1 ratio)
  
  # Position sizing adjustments
  volatility_adjustment: true
  correlation_adjustment: true
  drawdown_scaling: true  # Reduce position sizes during drawdown
  
  # Emergency stops
  daily_loss_limit: 0.05  # 5% daily loss limit
  consecutive_losses_limit: 5  # Close all after 5 consecutive losses

# Performance Tracking
performance_tracking:
  enable_trade_journal: true
  enable_daily_pnl: true
  enable_correlation_monitoring: true
  sharpe_ratio_calculation: true
  risk_free_rate: 0.02  # 2% annual risk-free rate
  
  # Export settings
  auto_export_interval_hours: 24
  export_format: "json"  # json, csv, excel

# Real-time Data Feed
price_feed:
  update_interval: 1.0  # seconds
  websocket_simulation: true
  backup_polling_interval: 5.0  # fallback polling if websocket fails
  price_precision: 8
  volume_precision: 6

# Logging Configuration
logging:
  level: "INFO"  # DEBUG, INFO, WARNING, ERROR
  log_to_file: true
  log_file: "logs/kraken_paper_trading.log"
  log_rotation: "daily"
  max_log_files: 30
  
  # Trading specific logs
  log_all_price_updates: false
  log_position_updates: true
  log_risk_calculations: true
  log_performance_metrics: true

# Machine Learning Integration
ml_integration:
  enable: true
  confidence_threshold: 0.6  # Minimum ML confidence to trade
  model_weight_in_sizing: 0.3  # How much ML confidence affects position size
  signal_aggregation: "weighted_average"  # weighted_average, majority_vote
  
  # Signal sources
  signal_sources:
    - "rsi"
    - "macd" 
    - "bollinger_bands"
    - "volume_profile"
    - "sentiment_analysis"

# Alert Configuration  
alerts:
  enable: true
  alert_types:
    - "position_opened"
    - "position_closed"
    - "stop_loss_hit"
    - "take_profit_hit"
    - "risk_limit_exceeded"
    - "performance_milestone"
  
  # Alert channels (for future implementation)
  channels:
    console: true
    log_file: true
    webhook: false  # Future: webhook notifications
    email: false   # Future: email alerts

# Backtesting Configuration (for validation)
backtesting:
  enable: false
  start_date: "2024-01-01"
  end_date: "2024-12-31"
  initial_capital: 10000.0
  commission: 0.001  # 0.1% per trade
  slippage: 0.0005  # 0.05% slippage

# Paper Trading Specific
paper_trading:
  simulate_latency: true  # Add realistic order execution delays
  simulate_slippage: true  # Add realistic slippage
  simulate_fees: true     # Deduct realistic trading fees
  market_hours_only: false  # Trade 24/7 for crypto
  
  # Realism settings
  execution_delay_ms: 100  # Realistic order execution delay
  slippage_bps: 5  # 0.05% slippage
  commission_bps: 10  # 0.1% commission per side

# Advanced Features
advanced:
  enable_regime_detection: true  # Market regime based position sizing
  enable_volatility_clustering: true  # Volatility-based risk adjustment
  enable_momentum_filters: true  # Momentum-based entry filters
  enable_correlation_matrix: true  # Real-time correlation monitoring
  
  # Optimization features
  dynamic_stop_losses: true  # Trailing and ATR-based stops
  position_scaling: true     # Scale into/out of positions
  portfolio_rebalancing: false  # Auto-rebalancing (future feature)

# Development and Testing
development:
  debug_mode: false
  test_mode: false
  mock_price_data: false
  simulation_speed: 1.0  # 1.0 = real-time, >1.0 = faster
  
  # Testing scenarios
  stress_test_scenarios:
    - "flash_crash"
    - "extended_drawdown"
    - "high_correlation_event"
    - "extreme_volatility"

# Integration Settings
integration:
  budget_manager: true  # Use existing BudgetManager
  exchange_adapter: true  # Use existing ExchangeAdapter
  signal_modules: true   # Integrate with signal modules
  dashboard: true        # Enable performance dashboard
  
  # External systems (future)
  external_signals: false
  portfolio_sync: false
  risk_overlay: false